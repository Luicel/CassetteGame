[gd_scene load_steps=17 format=3 uid="uid://c2s3kjy2mnsyv"]

[ext_resource type="PackedScene" uid="uid://cwfu4hg3iiiee" path="res://level/level.tscn" id="1_i7s2t"]
[ext_resource type="PackedScene" uid="uid://dtutos5dxlabe" path="res://level/obstacles/moving_pivot.tscn" id="2_as7mp"]
[ext_resource type="PackedScene" uid="uid://dw17n57witvtt" path="res://level/level_layout.tscn" id="3_ip7c6"]
[ext_resource type="PackedScene" uid="uid://dorvfpohkstmf" path="res://level/obstacles/spikes/spikes.tscn" id="4_7i1xf"]
[ext_resource type="PackedScene" uid="uid://d01d8mkfiuu0u" path="res://level/obstacles/death_zone/death_zone.tscn" id="6_n0uav"]
[ext_resource type="PackedScene" uid="uid://csnfbq078xw3e" path="res://level/scene_change_area.tscn" id="7_hxc51"]
[ext_resource type="PackedScene" uid="uid://ce4grwonsedjv" path="res://level/prototype_levels/prototype_act_1_level_4.tscn" id="8_ceuvm"]
[ext_resource type="PackedScene" uid="uid://w558hq11cj3l" path="res://camera/camera_bounds.tscn" id="9_b7he5"]
[ext_resource type="PackedScene" uid="uid://b1i0axoispxnm" path="res://level/checkpoint/checkpoint.tscn" id="10_hpqi1"]
[ext_resource type="PackedScene" uid="uid://b82pyxhyv8q4a" path="res://camera/camera_trigger_area.tscn" id="11_qrbys"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2D.gd" id="12_tr2dj"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="13_fpyts"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_uqc7e"]
size = Vector2(128, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w7lf7"]
size = Vector2(7168, 3328)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dhuav"]
size = Vector2(1920, 1080)

[sub_resource type="Resource" id="Resource_7qy6g"]
script = ExtResource("13_fpyts")
duration = 0.6
transition = 3
ease = 1

[node name="PrototypeAct1Level3" instance=ExtResource("1_i7s2t")]

[node name="Polygon2D" parent="LevelLayout" index="0"]
polygon = PackedVector2Array(-1472, 64, -768, 64, -573.053, 128, 64, 128, 544, -64, 800, -64, 800, 160, 1120, 160, 1120, 128, 1248, 128, 1248, 192, 1504, 192, 1504, 96, 1568, 96, 1568, 152, 1888, 152, 1888, 192, 2016, 192, 2016, -288, 2432, -256, 2624, -128, 2944, -128, 3200, -64, 3392, -64, 3392, 64, 3616, 64, 3616, -192, 3872, -192, 3872, 64, 4096, 64, 4096, -608, 4416, -608, 5056, -448, 6336, -448, 6336, 768, -1472, 768)

[node name="CollisionPolygon2D" parent="LevelLayout" index="1"]
polygon = PackedVector2Array(-1472, 64, -768, 64, -573.053, 128, 64, 128, 544, -64, 800, -64, 800, 160, 1120, 160, 1120, 128, 1248, 128, 1248, 192, 1504, 192, 1504, 96, 1568, 96, 1568, 152, 1888, 152, 1888, 192, 2016, 192, 2016, -288, 2432, -256, 2624, -128, 2944, -128, 3200, -64, 3392, -64, 3392, 64, 3616, 64, 3616, -192, 3872, -192, 3872, 64, 4096, 64, 4096, -608, 4416, -608, 5056, -448, 6336, -448, 6336, 768, -1472, 768)

[node name="Camera2D" parent="Player" index="0"]
position = Vector2(-1248, -112)

[node name="PhantomCamera2D" parent="Player" index="1"]
position = Vector2(-1248, -112)

[node name="CharacterBody2D" parent="Player" index="2"]
position = Vector2(-1248, 16)

[node name="MovingPivot" parent="." index="3" instance=ExtResource("2_as7mp")]
position = Vector2(1120, -32)
start_position_offset = Vector2(-192, 0)
end_position_offset = Vector2(192, 0)
forward_speed = 200.0
forward_stall_time = 1.0
backward_speed = 200.0
backward_stall_time = 1.0

[node name="CollisionShape2D" parent="MovingPivot" index="0"]
shape = SubResource("RectangleShape2D_uqc7e")

[node name="LevelLayout" parent="MovingPivot" index="4" instance=ExtResource("3_ip7c6")]

[node name="CollisionPolygon2D" parent="MovingPivot/LevelLayout" index="1"]
polygon = PackedVector2Array(-64, -32, 64, -32, 64, 32, -64, 32)
disabled = true

[node name="MovingPivot2" parent="." index="4" instance=ExtResource("2_as7mp")]
position = Vector2(1724, -144)
start_position_offset = Vector2(156, -112)
end_position_offset = Vector2(-156, 112)
forward_speed = 200.0
forward_stall_time = 1.0
backward_speed = 200.0
backward_stall_time = 1.0

[node name="CollisionShape2D" parent="MovingPivot2" index="0"]
shape = SubResource("RectangleShape2D_uqc7e")

[node name="LevelLayout" parent="MovingPivot2" index="4" instance=ExtResource("3_ip7c6")]

[node name="CollisionPolygon2D" parent="MovingPivot2/LevelLayout" index="1"]
polygon = PackedVector2Array(-64, -32, 64, -32, 64, 32, -64, 32)
disabled = true

[node name="Spikes" parent="." index="5" instance=ExtResource("4_7i1xf")]
position = Vector2(832, 160)

[node name="Spikes2" parent="." index="6" instance=ExtResource("4_7i1xf")]
position = Vector2(896, 160)

[node name="Spikes3" parent="." index="7" instance=ExtResource("4_7i1xf")]
position = Vector2(960, 160)

[node name="Spikes4" parent="." index="8" instance=ExtResource("4_7i1xf")]
position = Vector2(1024, 160)

[node name="Spikes5" parent="." index="9" instance=ExtResource("4_7i1xf")]
position = Vector2(1088, 160)

[node name="Spikes6" parent="." index="10" instance=ExtResource("4_7i1xf")]
position = Vector2(1152, 128)

[node name="Spikes7" parent="." index="11" instance=ExtResource("4_7i1xf")]
position = Vector2(1216, 128)

[node name="Spikes8" parent="." index="12" instance=ExtResource("4_7i1xf")]
position = Vector2(1280, 192)

[node name="Spikes9" parent="." index="13" instance=ExtResource("4_7i1xf")]
position = Vector2(1344, 192)

[node name="Spikes10" parent="." index="14" instance=ExtResource("4_7i1xf")]
position = Vector2(1408, 192)

[node name="Spikes11" parent="." index="15" instance=ExtResource("4_7i1xf")]
position = Vector2(1472, 192)

[node name="Spikes12" parent="." index="16" instance=ExtResource("4_7i1xf")]
position = Vector2(1536, 96)

[node name="Spikes13" parent="." index="17" instance=ExtResource("4_7i1xf")]
position = Vector2(1600, 152)

[node name="Spikes14" parent="." index="18" instance=ExtResource("4_7i1xf")]
position = Vector2(1664, 152)

[node name="Spikes15" parent="." index="19" instance=ExtResource("4_7i1xf")]
position = Vector2(1728, 152)

[node name="Spikes16" parent="." index="20" instance=ExtResource("4_7i1xf")]
position = Vector2(1792, 152)

[node name="Spikes17" parent="." index="21" instance=ExtResource("4_7i1xf")]
position = Vector2(1856, 152)

[node name="Spikes18" parent="." index="22" instance=ExtResource("4_7i1xf")]
position = Vector2(1920, 192)

[node name="Spikes19" parent="." index="23" instance=ExtResource("4_7i1xf")]
position = Vector2(1984, 192)

[node name="Spikes32" parent="." index="24" instance=ExtResource("4_7i1xf")]
position = Vector2(3900, 64)
scale = Vector2(0.875, 0.875)

[node name="Spikes36" parent="." index="25" instance=ExtResource("4_7i1xf")]
position = Vector2(3420, 64)
scale = Vector2(0.875, 0.875)

[node name="Spikes37" parent="." index="26" instance=ExtResource("4_7i1xf")]
position = Vector2(3476, 64)
scale = Vector2(0.875, 0.875)

[node name="Spikes38" parent="." index="27" instance=ExtResource("4_7i1xf")]
position = Vector2(3532, 64)
scale = Vector2(0.875, 0.875)

[node name="Spikes39" parent="." index="28" instance=ExtResource("4_7i1xf")]
position = Vector2(3588, 64)
scale = Vector2(0.875, 0.875)

[node name="Spikes33" parent="." index="29" instance=ExtResource("4_7i1xf")]
position = Vector2(3956, 64)
scale = Vector2(0.875, 0.875)

[node name="Spikes34" parent="." index="30" instance=ExtResource("4_7i1xf")]
position = Vector2(4012, 64)
scale = Vector2(0.875, 0.875)

[node name="Spikes35" parent="." index="31" instance=ExtResource("4_7i1xf")]
position = Vector2(4068, 64)
scale = Vector2(0.875, 0.875)

[node name="MovingPivot3" parent="." index="32" instance=ExtResource("2_as7mp")]
position = Vector2(3504, -416)
start_position_offset = Vector2(0, 320)
end_position_offset = Vector2(0, -320)
forward_speed = 400.0
forward_stall_time = 0.5
backward_speed = 400.0
backward_stall_time = 0.5

[node name="CollisionShape2D" parent="MovingPivot3" index="0"]
disabled = true

[node name="Spikes29" parent="MovingPivot3" index="4" instance=ExtResource("4_7i1xf")]
position = Vector2(64, 0)
rotation = 1.57079

[node name="Spikes34" parent="MovingPivot3" index="5" instance=ExtResource("4_7i1xf")]
position = Vector2(0, 64)
rotation = 3.14159

[node name="Spikes35" parent="MovingPivot3" index="6" instance=ExtResource("4_7i1xf")]
position = Vector2(-64, 0)
rotation = -1.5708

[node name="Spikes36" parent="MovingPivot3" index="7" instance=ExtResource("4_7i1xf")]
position = Vector2(0, -64)

[node name="LevelLayout" parent="MovingPivot3" index="8" instance=ExtResource("3_ip7c6")]

[node name="Polygon2D" parent="MovingPivot3/LevelLayout" index="0"]
polygon = PackedVector2Array(-64, -32, -32, -64, 32, -64, 64, -32, 64, 32, 32, 64, -32, 64, -64, 32)
metadata/_edit_lock_ = true

[node name="CollisionPolygon2D" parent="MovingPivot3/LevelLayout" index="1"]
polygon = PackedVector2Array(-64, -32, -32, -64, 32, -64, 64, -32, 64, 32, 32, 64, -32, 64, -64, 32)

[node name="MovingPivot5" parent="." index="33" instance=ExtResource("2_as7mp")]
position = Vector2(3984, -416)
start_position_offset = Vector2(0, -320)
end_position_offset = Vector2(0, 320)
forward_speed = 400.0
forward_stall_time = 0.5
backward_speed = 400.0
backward_stall_time = 0.5

[node name="CollisionShape2D" parent="MovingPivot5" index="0"]
disabled = true

[node name="Spikes29" parent="MovingPivot5" index="4" instance=ExtResource("4_7i1xf")]
position = Vector2(64, 0)
rotation = 1.57079

[node name="Spikes34" parent="MovingPivot5" index="5" instance=ExtResource("4_7i1xf")]
position = Vector2(0, 64)
rotation = 3.14159

[node name="Spikes35" parent="MovingPivot5" index="6" instance=ExtResource("4_7i1xf")]
position = Vector2(-64, 0)
rotation = -1.5708

[node name="Spikes36" parent="MovingPivot5" index="7" instance=ExtResource("4_7i1xf")]
position = Vector2(0, -64)

[node name="LevelLayout" parent="MovingPivot5" index="8" instance=ExtResource("3_ip7c6")]

[node name="Polygon2D" parent="MovingPivot5/LevelLayout" index="0"]
polygon = PackedVector2Array(-64, -32, -32, -64, 32, -64, 64, -32, 64, 32, 32, 64, -32, 64, -64, 32)
metadata/_edit_lock_ = true

[node name="CollisionPolygon2D" parent="MovingPivot5/LevelLayout" index="1"]
polygon = PackedVector2Array(-64, -32, -32, -64, 32, -64, 64, -32, 64, 32, 32, 64, -32, 64, -64, 32)

[node name="DeathZone" parent="." index="34" instance=ExtResource("6_n0uav")]
position = Vector2(1104, 1104)
scale = Vector2(200, 2)

[node name="scene_change_area" parent="." index="35" instance=ExtResource("7_hxc51")]
position = Vector2(5888, -576)
scene = ExtResource("8_ceuvm")

[node name="CameraBounds" parent="." index="36" instance=ExtResource("9_b7he5")]
position = Vector2(1824, -984)
metadata/_edit_lock_ = true

[node name="CollisionShape2D" parent="CameraBounds" index="0"]
position = Vector2(608, 88)
shape = SubResource("RectangleShape2D_w7lf7")

[node name="Checkpoint" parent="." index="37" instance=ExtResource("10_hpqi1")]
position = Vector2(-256, 0)
metadata/_edit_lock_ = true

[node name="LevelLayout2" parent="." index="38" instance=ExtResource("3_ip7c6")]
position = Vector2(3744, -448)

[node name="Polygon2D" parent="LevelLayout2" index="0"]
polygon = PackedVector2Array(-128, -32, 128, -32, 128, 32, -128, 32)

[node name="CollisionPolygon2D" parent="LevelLayout2" index="1"]
polygon = PackedVector2Array(-128, -32, 128, -32, 128, 32, -128, 32)

[node name="LevelLayout3" parent="." index="39" instance=ExtResource("3_ip7c6")]
position = Vector2(3328, -352)

[node name="Polygon2D" parent="LevelLayout3" index="0"]
polygon = PackedVector2Array(-192, -1120, 64, -1056, 64, 64, -128, 64, -384, 0, -640, -224, -768, -672, -1280, -864, -1664, -1888, -1664, -2464, 1024, -2464, 1024, -1248, 832, -736, 544, -544, 544, -352, 288, -352, 288, -1376, 72, -1632, -384, -1696, -576, -1632, -576, -1120)

[node name="CollisionPolygon2D" parent="LevelLayout3" index="1"]
polygon = PackedVector2Array(-192, -1120, 64, -1056, 64, 64, -128, 64, -384, 0, -640, -224, -768, -672, -1280, -864, -1664, -1888, -1664, -2464, 1024, -2464, 1024, -1248, 832, -736, 544, -544, 544, -352, 288, -352, 288, -1376, 72, -1632, -384, -1696, -576, -1632, -576, -1120)

[node name="Label" type="Label" parent="." index="40"]
offset_left = 2840.0
offset_top = -1792.0
offset_right = 3341.0
offset_bottom = -1744.0
theme_override_font_sizes/font_size = 32
text = "A secret collectible wiil go here :)"

[node name="CameraTriggerArea" parent="." index="41" node_paths=PackedStringArray("used_phantom_camera_2d") instance=ExtResource("11_qrbys")]
position = Vector2(3744, -352)
used_phantom_camera_2d = NodePath("PhantomCamera2D")
metadata/_edit_lock_ = true

[node name="CollisionPolygon2D" parent="CameraTriggerArea" index="0"]
polygon = PackedVector2Array(-608, -544, 128, -544, 352, -256, 416, -256, 416, 480, -608, 472)

[node name="CameraVisibilityPreview" parent="CameraTriggerArea" index="1"]
shape = SubResource("RectangleShape2D_dhuav")

[node name="PhantomCamera2D" type="Node2D" parent="CameraTriggerArea" index="3"]
script = ExtResource("12_tr2dj")
priority_override = null
priority = 0
zoom = Vector2(1, 1)
follow_mode = 0
tween_parameters = SubResource("Resource_7qy6g")
tween_on_load = true
inactive_update_mode = 0

[node name="Checkpoint2" parent="." index="42" instance=ExtResource("10_hpqi1")]
position = Vector2(2792, -256)

[editable path="Player"]
[editable path="Player/CharacterBody2D/CassettePocket"]
[editable path="MovingPivot"]
[editable path="MovingPivot/LevelLayout"]
[editable path="MovingPivot2"]
[editable path="MovingPivot2/LevelLayout"]
[editable path="MovingPivot3"]
[editable path="MovingPivot3/LevelLayout"]
[editable path="MovingPivot5"]
[editable path="MovingPivot5/LevelLayout"]
[editable path="CameraBounds"]
[editable path="LevelLayout2"]
[editable path="LevelLayout3"]
[editable path="CameraTriggerArea"]
[editable path="Checkpoint2"]
